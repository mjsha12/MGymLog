/* =========================
   MGymLog - style.css (FULL)
   iOS-like clean UI + mobile safe areas
   ========================= */

:root{
  --bg: #ffffff;
  --text: #111111;
  --muted: #8a8a8a;
  --line: #e8e8e8;

  --blue: #0A66C2;

  --pill-bg: #ffffff;
  --pill-border: #111111;

  --selected-bg: #111111;
  --selected-text: #ffffff;

  --done-bg: #6f6f6f;          /* 운동 완료(비활성 느낌) */
  --done-bg-active: #111111;   /* 운동 완료(활성/기록 있음) */

  --radius-lg: 22px;
  --radius-md: 16px;
  --radius-sm: 12px;
}

*{ box-sizing: border-box; }
html, body { height: 100%; }

body{
  margin:0;
  background: var(--bg);
  color: var(--text);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display","SF Pro Text",
               "Apple SD Gothic Neo","Noto Sans KR", system-ui, Segoe UI, Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* App wrapper */
.app{
  min-height: 100vh;
  display:flex;
  flex-direction: column;
  padding-bottom: calc(72px + env(safe-area-inset-bottom));
}

/* Top title bar (MGymLog) */
.header{
  padding: 18px 18px 10px 18px;
  border-bottom: 1px solid var(--line);
  background: var(--bg);
}

.header .title{
  font-size: 42px;
  font-weight: 800;
  letter-spacing: -1px;
  margin: 0;
}

/* Page container */
.page{
  display:none;
  padding: 18px;
}
.page.active{ display:block; }

/* =========================
   HOME
   ========================= */

/* Date row with arrows */
.dateRow{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 18px;
  margin-top: 10px;
  margin-bottom: 14px;
}

.navBtn{
  width: 54px;
  height: 54px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: #ffffff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 22px;
  color: var(--blue);
  box-shadow: 0 1px 0 rgba(0,0,0,0.02);
}

.navBtn.disabled{
  opacity: 0.25;
  pointer-events: none;
}

#todayLabel{
  font-size: 26px;
  font-weight: 800;
  letter-spacing: -0.5px;
}

/* Done button (big) */
#doneBtn{
  width: 100%;
  height: 96px;
  border-radius: 24px;
  border: 0;
  background: var(--done-bg);
  color: #ffffff;
  font-size: 24px;
  font-weight: 800;
  letter-spacing: -0.3px;
  display:flex;
  align-items:center;
  justify-content:center;
  margin: 10px 0 18px 0;
}

/* JS에서 opacity로 조절하니까, 기본은 유지 */
#doneBtn:active{
  transform: translateY(1px);
}

/* Muscle grid (3 columns) */
.muscleGrid{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
  margin-top: 6px;
}

/* Muscle buttons (IMPORTANT: bigger and iOS-like readable) */
.muscle{
  height: 68px;
  border-radius: 18px;
  border: 3px solid var(--pill-border);
  background: var(--pill-bg);
  color: var(--blue);

  /* ✅ 가독성 업: 운동 완료에 “가깝게” */
  font-size: clamp(17px, 2.6vw, 20px);
  font-weight: 800;
  letter-spacing: -0.2px;

  display:flex;
  align-items:center;
  justify-content:center;
  user-select:none;
}

.muscle:active{
  transform: translateY(1px);
}

.muscle.selected{
  background: var(--selected-bg);
  color: var(--selected-text);
}

/* Last trained info */
#lastInfo{
  margin-top: 14px;
  font-size: 13px;
  color: #6b6b6b;
  line-height: 1.35;
  word-break: keep-all;
}

/* =========================
   RECORD (14 days)
   ========================= */

.weekHeader{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
  margin-top: 8px;
  margin-bottom: 10px;
  padding: 0 2px;
  color: #7a7a7a;
  font-weight: 700;
  font-size: 14px;
  text-align:center;
}

/* Calendar grid: 7 columns, 2 rows (14 days) */
#calendar{
  display:grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap: 12px 10px;
}

/* Each day column */
.day{
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 10px 8px 10px 8px;
  background: #ffffff;
  box-shadow: 0 1px 0 rgba(0,0,0,0.02);
  min-height: 200px; /* 기본 높이 */
}

/* Date label */
.day h4{
  margin: 0 0 8px 0;
  font-size: 16px;
  font-weight: 900;
  letter-spacing: -0.3px;
  text-align:left;
}

/* Slots inside day */
.slot{
  width: 100%;
  height: 22px;
  border-radius: 999px;
  border: 2px solid #111111;
  background: #ffffff;
  margin: 6px 0;
}

/* Filled slot with text */
.slot.filled{
  background: #111111;
  color: #ffffff;
  display:flex;
  align-items:center;
  justify-content:center;

  /* 칸이 빽빽할 때도 읽히게 자동 느낌 */
  font-size: clamp(10px, 1.7vw, 12px);
  font-weight: 800;
  letter-spacing: -0.2px;
  padding: 0 6px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* =========================
   EXPORT
   ========================= */

#copyBtn{
  width: 100%;
  height: 86px;
  border-radius: 20px;
  border: 3px solid #111111;
  background: #ffffff;
  color: var(--blue);
  font-size: 24px;
  font-weight: 900;
  letter-spacing: -0.4px;
}

#copyBtn:active{
  transform: translateY(1px);
}

.exportBox{
  margin-top: 14px;
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 14px;
  background: #f5f5f5;
}

#exportText{
  margin:0;
  white-space: pre-wrap;
  font-size: 16px;
  line-height: 1.5;
  color: #111111;
}

/* =========================
   Bottom tab bar
   ========================= */

.tabbar{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;

  height: calc(64px + env(safe-area-inset-bottom));
  padding-bottom: env(safe-area-inset-bottom);

  border-top: 1px solid var(--line);
  background: rgba(255,255,255,0.92);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  display:flex;
  align-items:center;
  justify-content:space-around;
  z-index: 50;
}

.tab{
  flex: 1;
  height: 64px;
  border: 0;
  background: transparent;
  font-size: 18px;
  font-weight: 800;
  color: #b0b0b0;
}

.tab.active{
  color: #111111;
}

/* =========================
   Responsive tweaks
   ========================= */

@media (max-width: 380px){
  .header .title{ font-size: 38px; }

  #doneBtn{ height: 88px; font-size: 22px; }
  .navBtn{ width: 50px; height: 50px; }
  #todayLabel{ font-size: 24px; }

  .muscle{ height: 64px; font-size: clamp(16px, 3.2vw, 19px); }

  .day{ min-height: 190px; }
  .day h4{ font-size: 15px; }
  .slot{ height: 21px; }
}

@media (min-width: 520px){
  /* 데스크탑에서 너무 퍼지지 않게 */
  .app, .header, .page{
    max-width: 520px;
    margin: 0 auto;
  }
}
